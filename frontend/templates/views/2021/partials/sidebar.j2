<span id="ap-sidebar-toolbar" class="ap-sidebar --sidebaropen">

  {% do doc.icons.useIcon('/icons/sidebar-toggle.svg') %}
  <button class="ap-sidebar-toggle"
      on="tap:ap-sidebar-toolbar.toggleClass(class=--sidebaropen)">
    <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#sidebar-toggle"></use></svg>
    <span>{{ _('Toggle Sidebar') }}</span>
  </button>
</span>

<amp-sidebar id="sidebar" layout="nodisplay" side="left">
  <nav toolbar="(min-width: 768px)" toolbar-target="ap-sidebar-toolbar">
    <div class="ap-sidebar-format-toggle">
      Websites
    </div>
    {% set components = g.collection('/content/amp-dev/documentation/components/reference').list_docs(locale=doc.locale) %}
    {% set scope = namespace(initial=components[0].title[4]) %}
    <div class="ap-sidebar-scroll-container">
      <ul class="ap-sidebar-nav-list --level-1">
        {% for component in components %}

          {% set initial = component.title[4] %}
          {% if scope.initial != initial %}
          {% set scope.initial = initial %}
          <li>
            <div class="ap-sidebar-nav-list-section-title">{{ initial|upper }}</div>
          </li>
          {% endif %}

          <li>
            <a class="ap-sidebar-nav-list-link"
                href="{{ component.url.path }}">
              {{ component.title }}
            </a>
          </li>
        {% endfor %}
      </ul>
    </div>
  </nav>
</amp-sidebar>
