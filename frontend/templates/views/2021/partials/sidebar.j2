<span id="ap-sidebar-toolbar" class="ap-sidebar">
</span>

<amp-sidebar id="sidebar" layout="nodisplay" side="left">
  <nav toolbar="(min-width: 768px)" toolbar-target="ap-sidebar-toolbar">
    {% set components = g.collection('/content/amp-dev/documentation/components/reference').list_docs(locale=doc.locale) %}
    {% set scope = namespace(initial=components[0].title[4]) %}
    <ul class="ap-sidebar-nav-list --level-1">
      {% for component in components %}

        {% set initial = component.title[4] %}
        {% if scope.initial != initial %}
        {% set scope.initial = initial %}
        <li>
          <div class="ap-sidebar-nav-list-section-title">{{ initial|upper }}</div>
        </li>
        {% endif %}

        <li>
          <a class="ap-sidebar-nav-list-link"
              href="{{ component.url.path }}">
            {{ component.title }}
          </a>
        </li>
      {% endfor %}
    </ul>
  </nav>
</amp-sidebar>
